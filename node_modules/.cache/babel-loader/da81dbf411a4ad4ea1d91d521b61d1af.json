{"ast":null,"code":"import _classCallCheck from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withCookies}from'react-cookie';import{getSingleProduct}from'../../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Single=/*#__PURE__*/function(_Component){_inherits(Single,_Component);var _super=_createSuper(Single);function Single(props){var _this;_classCallCheck(this,Single);_this=_super.call(this,props);_this.state={productId:_this.props.location.hash.split('#').pop(),productInfo:{}};_this.addToCart=_this.addToCart.bind(_assertThisInitialized(_this));return _this;}_createClass(Single,[{key:\"addToCart\",value:function addToCart(){var cookies=this.props.cookies;var userCart=cookies.get('userCart');var itemsInCart;if(userCart!=='undefined'){itemsInCart=userCart;}else{itemsInCart=false;}if(itemsInCart){itemsInCart.push(this.state.productId);cookies.set('userCart',itemsInCart,{path:'/'});}else{console.log('No cookies exist yet');cookies.set('userCart',[this.state.productId],{path:'/'});}console.log(this.props.history.push('/store'));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getSingleProduct(this.state.productId).then(function(product){return _this2.setState({productInfo:product});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"main\",{className:\"single-page\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"single-article\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product-header\",children:this.state.productInfo.name}),/*#__PURE__*/_jsx(\"img\",{alt:this.state.productInfo.img,className:\"single-image\",src:\"https://s3-us-west-1.amazonaws.com/hyfxi.ai-images/\".concat(this.state.productInfo.img)}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"price: $ \",this.state.productInfo.price]}),/*#__PURE__*/_jsxs(\"h3\",{children:[this.state.productInfo.description,\" Hello!\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button add-button\",onClick:function onClick(){return _this3.addToCart();},children:\"Add To Cart\"})]});}}]);return Single;}(Component);export default withCookies(Single);","map":{"version":3,"sources":["/Users/mica/Projects/Websites/hyfix/frontend/src/pages/store/Single.js"],"names":["React","Component","withCookies","getSingleProduct","Single","props","state","productId","location","hash","split","pop","productInfo","addToCart","bind","cookies","userCart","get","itemsInCart","push","set","path","console","log","history","then","product","setState","catch","err","name","img","price","description"],"mappings":"+yBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,gBAAT,KAAiC,WAAjC,C,2FAEMC,CAAAA,M,gGACF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,SAAS,CAAE,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,IAApB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoCC,GAApC,EAAb,CACEC,WAAW,CAAE,EADf,CAAb,CAEA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CAJe,aAKjB,C,4CAEF,oBAAY,CACR,GAAMC,CAAAA,OAAO,CAAG,KAAKV,KAAL,CAAWU,OAA3B,CACA,GAAMC,CAAAA,QAAQ,CAAGD,OAAO,CAACE,GAAR,CAAY,UAAZ,CAAjB,CAEA,GAAIC,CAAAA,WAAJ,CACA,GAAIF,QAAQ,GAAK,WAAjB,CAA8B,CAC1BE,WAAW,CAAGF,QAAd,CACH,CAFD,IAEO,CACHE,WAAW,CAAG,KAAd,CACH,CAED,GAAIA,WAAJ,CAAiB,CACbA,WAAW,CAACC,IAAZ,CAAiB,KAAKb,KAAL,CAAWC,SAA5B,EACAQ,OAAO,CAACK,GAAR,CAAY,UAAZ,CAAwBF,WAAxB,CAAsC,CAACG,IAAI,CAAE,GAAP,CAAtC,EACH,CAHD,IAGO,CACHC,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACAR,OAAO,CAACK,GAAR,CAAY,UAAZ,CAAwB,CAAC,KAAKd,KAAL,CAAWC,SAAZ,CAAxB,CAAgD,CAACc,IAAI,CAAE,GAAP,CAAhD,EACH,CAEDC,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWmB,OAAX,CAAmBL,IAAnB,CAAwB,QAAxB,CAAZ,EACH,C,iCAED,4BAAoB,iBAChBhB,gBAAgB,CAAC,KAAKG,KAAL,CAAWC,SAAZ,CAAhB,CACCkB,IADD,CACM,SAAAC,OAAO,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEf,WAAW,CAAEc,OAAf,CAAd,CAAJ,EADb,EAECE,KAFD,CAEO,SAAAC,GAAG,QAAIP,CAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAJ,EAFV,EAGH,C,sBAED,iBAAS,iBACH,mBACE,cAAM,SAAS,CAAC,aAAhB,wBACI,iBAAS,SAAS,CAAC,gBAAnB,wBACI,WAAI,SAAS,CAAC,gBAAd,UAAgC,KAAKvB,KAAL,CAAWM,WAAX,CAAuBkB,IAAvD,EADJ,cAGI,YAAK,GAAG,CAAE,KAAKxB,KAAL,CAAWM,WAAX,CAAuBmB,GAAjC,CAAsC,SAAS,CAAC,cAAhD,CACA,GAAG,8DAAwD,KAAKzB,KAAL,CAAWM,WAAX,CAAuBmB,GAA/E,CADH,EAHJ,cAMI,kCAAc,KAAKzB,KAAL,CAAWM,WAAX,CAAuBoB,KAArC,GANJ,cAOI,sBAAK,KAAK1B,KAAL,CAAWM,WAAX,CAAuBqB,WAA5B,aAPJ,GADJ,cAYI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACpB,SAAL,EAAN,EAA/C,yBAZJ,GADF,CAiBL,C,oBAtDgBZ,S,EAyDrB,cAAeC,CAAAA,WAAW,CAACE,MAAD,CAA1B","sourcesContent":["import React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { getSingleProduct } from '../../api';\n\nclass Single extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { productId: this.props.location.hash.split('#').pop(),\n                       productInfo: {} };\n        this.addToCart = this.addToCart.bind(this);\n     }\n\n    addToCart() {\n        const cookies = this.props.cookies\n        const userCart = cookies.get('userCart');\n\n        let itemsInCart;\n        if (userCart !== 'undefined') {\n            itemsInCart = userCart;\n        } else {\n            itemsInCart = false;\n        }\n\n        if (itemsInCart) {\n            itemsInCart.push(this.state.productId);\n            cookies.set('userCart', itemsInCart , {path: '/'});\n        } else {\n            console.log('No cookies exist yet')\n            cookies.set('userCart', [this.state.productId], {path: '/'})\n        }\n\n        console.log(this.props.history.push('/store'));\n    }\n\n    componentDidMount() {\n        getSingleProduct(this.state.productId)\n        .then(product => this.setState({ productInfo: product }))\n        .catch(err => console.log(err))\n    }\n    \n    render() {\n          return (\n            <main className='single-page'>\n                <article className='single-article'>\n                    <h1 className='product-header'>{this.state.productInfo.name}</h1>\n\n                    <img alt={this.state.productInfo.img} className='single-image' \n                    src={`https://s3-us-west-1.amazonaws.com/hyfxi.ai-images/${this.state.productInfo.img}`}></img>\n\n                    <h2>price: $ {this.state.productInfo.price}</h2>\n                    <h3>{this.state.productInfo.description} Hello!</h3>\n                    \n\n                </article>\n                <button className='button add-button' onClick={() => this.addToCart()}>Add To Cart</button>\n            </main>\n     \n        );\n    }\n}\n\nexport default withCookies(Single);\n\n"]},"metadata":{},"sourceType":"module"}
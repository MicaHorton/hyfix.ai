{"ast":null,"code":"import axios from 'axios'; // const base = 'http://localhost:5000/';\n\nconst base = 'https://api.hyfix.ai/';\n\nrequire('dotenv').config(); // const stripe = require('stripe')(process.env.STRIPE_SECRET);\n\n\nimport { loadStripe } from '@stripe/stripe-js';\nconst stripePromise = loadStripe(STRIPE_PUBLIC_KEY); // Products\n\nexport const getAllProducts = async () => {\n  console.log('stripe', stripe);\n  return await stripe.products.list({\n    limit: 3\n  }).then(res => {\n    console.log(res.data);\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n  return axios.get(base + 'products/').then(res => {\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getProductsByCategory = category => {\n  console.log('hello');\n  return axios.get(base + 'products/category/' + category).then(res => {\n    console.log('category res', res);\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getSingleProduct = productId => {\n  return axios.get(base + 'products/' + productId).then(res => {\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getProductsInCart = async productList => {\n  let product;\n  let fetchedProducts = [];\n\n  for (product in productList) {\n    let fetchedProduct = await getSingleProduct(productList[product]);\n    fetchedProducts.push(fetchedProduct);\n  }\n\n  console.log(fetchedProducts);\n  return fetchedProducts;\n  /*\n  return axios.get(base + 'products/cart', {\n      params: { \n      products: productList \n  }\n  })\n  .then(res => {\n      console.log('cart response', res.data);\n      return res.data;\n  })\n  .catch((err) => {\n      return err\n  });*/\n}; // Payment \n\nexport const getPublicStripeKey = () => {\n  return axios.get(base + 'payment/public-key').then(res => {\n    return res;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const createPaymentIntent = products => {\n  return axios.post(base + 'payment/create-payment-intent', {\n    products: products\n  }).then(res => {\n    console.log('payment intent', res);\n    return res.data.client_secret;\n  }).catch(err => {\n    return err;\n  });\n};","map":{"version":3,"sources":["/Users/mica/Projects/Websites/hyfix/frontend/src/api.js"],"names":["axios","base","require","config","loadStripe","stripePromise","STRIPE_PUBLIC_KEY","getAllProducts","console","log","stripe","products","list","limit","then","res","data","catch","err","get","getProductsByCategory","category","getSingleProduct","productId","getProductsInCart","productList","product","fetchedProducts","fetchedProduct","push","getPublicStripeKey","createPaymentIntent","post","client_secret"],"mappings":"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","sourcesContent":["import axios from 'axios';\n// const base = 'http://localhost:5000/';\nconst base = 'https://api.hyfix.ai/';\n\nrequire('dotenv').config();\n// const stripe = require('stripe')(process.env.STRIPE_SECRET);\nimport { loadStripe } from '@stripe/stripe-js';\nconst stripePromise = loadStripe(STRIPE_PUBLIC_KEY);\n\n\n// Products\nexport const getAllProducts = async () => {\n\n    console.log('stripe', stripe)\n    return await stripe.products.list({limit: 3})\n    .then(res => {\n        console.log(res.data)\n        return res.data;\n    })\n    .catch((err) => {\n        return err\n    }) \n\n    \n    \n    return axios.get(base + 'products/') \n    .then(res => {\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     }) \n}\n\nexport const getProductsByCategory = category => {\n    console.log('hello');\n    return axios.get(base + 'products/category/' + category) \n    .then(res => {\n            console.log('category res', res);\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     })\n}\n\nexport const getSingleProduct = productId => {\n    return axios.get(base + 'products/' + productId) \n    .then(res => {\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     })\n    \n}\n\nexport const getProductsInCart = async productList => {\n    let product;\n    let fetchedProducts = [];\n    for (product in productList) {\n        let fetchedProduct = await getSingleProduct(productList[product]);\n        fetchedProducts.push(fetchedProduct);\n\n    }\n    console.log(fetchedProducts);\n    return fetchedProducts;\n\n\n    /*\n    return axios.get(base + 'products/cart', {\n        params: { \n        products: productList \n    }\n    })\n    .then(res => {\n        console.log('cart response', res.data);\n        return res.data;\n    })\n    .catch((err) => {\n        return err\n    });*/\n\n};\n\n// Payment \nexport const getPublicStripeKey = () => {\n    return axios.get(base + 'payment/public-key')\n    .then(res => {return res})\n    .catch(err => {return err})\n};\n\nexport const createPaymentIntent = products => {\n    return axios.post(base + 'payment/create-payment-intent', {\n        products: products\n    })\n    .then(res => {\n        console.log('payment intent', res);\n        return res.data.client_secret\n    })\n    .catch((err) => {\n        return err\n    });\n\n};\n    \n\n    "]},"metadata":{},"sourceType":"module"}
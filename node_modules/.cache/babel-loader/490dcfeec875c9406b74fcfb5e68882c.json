{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mica/Projects/HYFIX/Website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';var Edit=/*#__PURE__*/function(_Component){_inherits(Edit,_Component);var _super=_createSuper(Edit);function Edit(props){var _this;_classCallCheck(this,Edit);_this=_super.call(this,props);_this.state={name:'',description:'',price:0,img:{}};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleFileChange=_this.handleFileChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Edit,[{key:\"handleFileChange\",value:function handleFileChange(e){var name=e.target.name;var uploadedFile=e.target.files[0];this.setState(_defineProperty({},name,uploadedFile));console.log('State Data',this.state);}},{key:\"handleChange\",value:function handleChange(e){var name=e.target.name;var value=e.target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();console.log('Client sent request');console.log(this.state);var formData=new FormData();formData.append('name',this.state.name);formData.append('description',this.state.description);formData.append('price',this.state.price);formData.append('img',this.state.img);console.log(formData);/*\n        axios.post('http://localhost:5000/products/add', this.state, {\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'multipart/form-data',\n              },\n            }).then(res => {\n                console.log(res);\n            }).catch((error) => {\n                console.log(error);\n            });*/axios.post('http://localhost:5000/products/add',this.state).then(function(res){console.log(res);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"main\",{className:\"form-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",encType:\"multipart/form-data\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",value:this.state.name,onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description\",/*#__PURE__*/_jsx(\"input\",{name:\"description\",type:\"text\",value:this.state.description,onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price\",/*#__PURE__*/_jsx(\"input\",{name:\"price\",type:\"text\",value:this.state.price,onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload Image\",/*#__PURE__*/_jsx(\"input\",{name:\"img\",type:\"file\",accept:\"image/*\",onChange:this.handleFileChange})]}),/*#__PURE__*/_jsx(\"input\",{className:\"submit-button\",type:\"submit\",value:\"Submit\"})]})});}}]);return Edit;}(Component);/*\nor skip the whole state thing and set form data directly,\njesus christ do I know?\n*/export{Edit as default};","map":{"version":3,"sources":["/Users/mica/Projects/HYFIX/Website/frontend/src/components/admin/add.js"],"names":["axios","React","Component","Edit","props","state","name","description","price","img","handleChange","bind","handleFileChange","handleSubmit","e","target","uploadedFile","files","setState","console","log","value","preventDefault","formData","FormData","append","post","then","res","catch","error"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\n\nexport default class Edit extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: '',\n            description: '',\n            price: 0,\n            img: {}\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleFileChange = this.handleFileChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleFileChange(e) {\n        const name = e.target.name;\n        const uploadedFile = e.target.files[0];\n        this.setState({\n            [name]: uploadedFile\n        });\n\n        console.log('State Data', this.state);\n\n    }\n\n    handleChange(e) {   \n        const name = e.target.name; \n        const value = e.target.value;\n        this.setState({\n          [name]: value\n        });  \n        \n      }\n\n    \n    handleSubmit(e) {\n        e.preventDefault();\n        console.log('Client sent request');\n        console.log(this.state);\n\n\n        const formData = new FormData();\n        formData.append('name', this.state.name);\n        formData.append('description', this.state.description);\n        formData.append('price', this.state.price);\n        formData.append('img', this.state.img);\n        console.log(formData);\n\n        /*\n        axios.post('http://localhost:5000/products/add', this.state, {\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'multipart/form-data',\n              },\n            }).then(res => {\n                console.log(res);\n            }).catch((error) => {\n                console.log(error);\n            });*/\n        \n       \n        axios.post('http://localhost:5000/products/add', this.state)\n        .then(res => {\n            console.log(res);\n        }).catch((error) => {\n            console.log(error);\n        }); \n    }\n    \n    render() {\n        return (\n            <main className='form-page'>\n\n            <form className='form' encType='multipart/form-data' onSubmit={this.handleSubmit}>\n                <label>\n                    Name\n                    <input name='name' type='text' value={this.state.name} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Description\n                    <input name='description' type='text' value={this.state.description} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Price\n                    <input name='price' type='text' value={this.state.price} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Upload Image\n                    <input name='img' type='file' accept='image/*' onChange={this.handleFileChange}/>\n                </label>\n        \n                <input className='submit-button' type='submit' value='Submit' />\n            </form>\n\n            </main>\n        );\n    }\n}\n\n/*\nor skip the whole state thing and set form data directly,\njesus christ do I know?\n*/"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React, { Component } from 'react';\nimport Card from '../../components/ProductCard.js';\nimport { getProductsByCategory } from '../../api';\n\nconst All = props => {\n  if (props.products) {\n    render();\n  }\n};\n/*\nexport default class Category extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { category: this.props.location.search.split('?')[1],\n                       categoryChanged: true,\n                       products: [] };\n        this.listProducts = this.listProducts.bind(this);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let currentCategory = props.location.search.split('?')[1];\n        if (state.category !== currentCategory) {\n            return { category: currentCategory, categoryChanged: true };\n        } else {\n            return null;\n        }\n        \n    }\n\n    listProducts() {\n        return this.state.products.map(current => {\n            return <Card item={current} key={current._id}/>;\n        })\n    }\n\n    render() {\n        console.log('category rendered');\n        \n        if (this.state.categoryChanged) {\n            getProductsByCategory(this.state.category)\n                .then(products => this.setState({ products: products }))\n                .catch(err => {console.log(err)})\n            this.setState({ categoryChanged: false });\n        }\n\n        return (\n            <main className='products-page'>\n                <div className='products-list'>\n                    {this.listProducts()}\n                </div>\n            </main>\n        );\n\n    }\n\n}*/\n\n\n_c = All;\n\nvar _c;\n\n$RefreshReg$(_c, \"All\");","map":{"version":3,"sources":["/Users/mica/Projects/Websites/hyfix/frontend/src/pages/store/Category.js"],"names":["React","Component","Card","getProductsByCategory","All","props","products","render"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,iCAAjB;AACA,SAASC,qBAAT,QAAsC,WAAtC;;AAEA,MAAMC,GAAG,GAAIC,KAAD,IAAW;AACnB,MAAIA,KAAK,CAACC,QAAV,EAAoB;AAEhBC,IAAAA,MAAM;AAGT;AACJ,CAPD;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;KAxDMH,G","sourcesContent":["import React, { Component } from 'react';\nimport Card from '../../components/ProductCard.js'; \nimport { getProductsByCategory } from '../../api';\n\nconst All = (props) => {\n    if (props.products) {\n\n        render (\n            \n        )\n    }\n}\n\n/*\nexport default class Category extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { category: this.props.location.search.split('?')[1],\n                       categoryChanged: true,\n                       products: [] };\n        this.listProducts = this.listProducts.bind(this);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let currentCategory = props.location.search.split('?')[1];\n        if (state.category !== currentCategory) {\n            return { category: currentCategory, categoryChanged: true };\n        } else {\n            return null;\n        }\n        \n    }\n\n    listProducts() {\n        return this.state.products.map(current => {\n            return <Card item={current} key={current._id}/>;\n        })\n    }\n\n    render() {\n        console.log('category rendered');\n        \n        if (this.state.categoryChanged) {\n            getProductsByCategory(this.state.category)\n                .then(products => this.setState({ products: products }))\n                .catch(err => {console.log(err)})\n            this.setState({ categoryChanged: false });\n        }\n\n        return (\n            <main className='products-page'>\n                <div className='products-list'>\n                    {this.listProducts()}\n                </div>\n            </main>\n        );\n\n    }\n\n}*/"]},"metadata":{},"sourceType":"module"}
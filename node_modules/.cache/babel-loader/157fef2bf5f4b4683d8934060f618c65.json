{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mica/Projects/Websites/hyfix/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';// const base = 'http://localhost:5000/';\nvar base='https://api.hyfix.ai/';// Products\nexport var getAllProducts=function getAllProducts(){return axios.get(base+'products/').then(function(res){return res.data;}).catch(function(err){return err;});};export var getProductsByCategory=function getProductsByCategory(category){console.log('hello');return axios.get(base+'products/category/'+category).then(function(res){console.log('category res',res);return res.data;}).catch(function(err){return err;});};export var getSingleProduct=function getSingleProduct(productId){return axios.get(base+'products/'+productId).then(function(res){return res.data;}).catch(function(err){return err;});};export var getProductsInCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(productList){var product,fetchedProducts,fetchedProduct;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetchedProducts=[];_context.t0=_regeneratorRuntime.keys(productList);case 2:if((_context.t1=_context.t0()).done){_context.next=10;break;}product=_context.t1.value;_context.next=6;return getSingleProduct(productList[product]);case 6:fetchedProduct=_context.sent;fetchedProducts.push(fetchedProduct);_context.next=2;break;case 10:console.log(fetchedProducts);return _context.abrupt(\"return\",fetchedProducts);case 12:case\"end\":return _context.stop();}}},_callee);}));return function getProductsInCart(_x){return _ref.apply(this,arguments);};}();// Payment \nexport var getPublicStripeKey=function getPublicStripeKey(){return axios.get(base+'payment/public-key').then(function(res){return res;}).catch(function(err){return err;});};export var createPaymentIntent=function createPaymentIntent(products){return axios.post(base+'payment/create-payment-intent',{products:products}).then(function(res){console.log('payment intent',res);return res.data.client_secret;}).catch(function(err){return err;});};","map":{"version":3,"sources":["/Users/mica/Projects/Websites/hyfix/frontend/src/api.js"],"names":["axios","base","getAllProducts","get","then","res","data","catch","err","getProductsByCategory","category","console","log","getSingleProduct","productId","getProductsInCart","productList","fetchedProducts","product","fetchedProduct","push","getPublicStripeKey","createPaymentIntent","products","post","client_secret"],"mappings":"mUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,GAAMC,CAAAA,IAAI,CAAG,uBAAb,CAEA;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAChC,MAAOF,CAAAA,KAAK,CAACG,GAAN,CAAUF,IAAI,CAAG,WAAjB,EACNG,IADM,CACD,SAAAC,GAAG,CAAI,CACL,MAAOA,CAAAA,GAAG,CAACC,IAAX,CACP,CAHM,EAINC,KAJM,CAIA,SAACC,GAAD,CAAS,CACR,MAAOA,CAAAA,GAAP,CACN,CANK,CAAP,CAOH,CARM,CAUP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAAC,QAAQ,CAAI,CAC7CC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACA,MAAOZ,CAAAA,KAAK,CAACG,GAAN,CAAUF,IAAI,CAAG,oBAAP,CAA8BS,QAAxC,EACNN,IADM,CACD,SAAAC,GAAG,CAAI,CACLM,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BP,GAA5B,EACA,MAAOA,CAAAA,GAAG,CAACC,IAAX,CACP,CAJM,EAKNC,KALM,CAKA,SAACC,GAAD,CAAS,CACR,MAAOA,CAAAA,GAAP,CACN,CAPK,CAAP,CAQH,CAVM,CAYP,MAAO,IAAMK,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,SAAS,CAAI,CACzC,MAAOd,CAAAA,KAAK,CAACG,GAAN,CAAUF,IAAI,CAAG,WAAP,CAAqBa,SAA/B,EACNV,IADM,CACD,SAAAC,GAAG,CAAI,CACL,MAAOA,CAAAA,GAAG,CAACC,IAAX,CACP,CAHM,EAINC,KAJM,CAIA,SAACC,GAAD,CAAS,CACR,MAAOA,CAAAA,GAAP,CACN,CANK,CAAP,CAQH,CATM,CAWP,MAAO,IAAMO,CAAAA,iBAAiB,0FAAG,iBAAMC,WAAN,6JAEzBC,eAFyB,CAEP,EAFO,sCAGbD,WAHa,sEAGxBE,OAHwB,yCAIEL,CAAAA,gBAAgB,CAACG,WAAW,CAACE,OAAD,CAAZ,CAJlB,QAIrBC,cAJqB,eAKzBF,eAAe,CAACG,IAAhB,CAAqBD,cAArB,EALyB,8BAQ7BR,OAAO,CAACC,GAAR,CAAYK,eAAZ,EAR6B,gCAStBA,eATsB,yDAAH,kBAAjBF,CAAAA,iBAAiB,4CAAvB,CA4BP;AACA,MAAO,IAAMM,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CACpC,MAAOrB,CAAAA,KAAK,CAACG,GAAN,CAAUF,IAAI,CAAG,oBAAjB,EACNG,IADM,CACD,SAAAC,GAAG,CAAI,CAAC,MAAOA,CAAAA,GAAP,CAAW,CADlB,EAENE,KAFM,CAEA,SAAAC,GAAG,CAAI,CAAC,MAAOA,CAAAA,GAAP,CAAW,CAFnB,CAAP,CAGH,CAJM,CAMP,MAAO,IAAMc,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,QAAQ,CAAI,CAC3C,MAAOvB,CAAAA,KAAK,CAACwB,IAAN,CAAWvB,IAAI,CAAG,+BAAlB,CAAmD,CACtDsB,QAAQ,CAAEA,QAD4C,CAAnD,EAGNnB,IAHM,CAGD,SAAAC,GAAG,CAAI,CACTM,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BP,GAA9B,EACA,MAAOA,CAAAA,GAAG,CAACC,IAAJ,CAASmB,aAAhB,CACH,CANM,EAONlB,KAPM,CAOA,SAACC,GAAD,CAAS,CACZ,MAAOA,CAAAA,GAAP,CACH,CATM,CAAP,CAWH,CAZM","sourcesContent":["import axios from 'axios';\n\n// const base = 'http://localhost:5000/';\nconst base = 'https://api.hyfix.ai/';\n\n// Products\nexport const getAllProducts = () => {\n    return axios.get(base + 'products/') \n    .then(res => {\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     }) \n}\n\nexport const getProductsByCategory = category => {\n    console.log('hello');\n    return axios.get(base + 'products/category/' + category) \n    .then(res => {\n            console.log('category res', res);\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     })\n}\n\nexport const getSingleProduct = productId => {\n    return axios.get(base + 'products/' + productId) \n    .then(res => {\n            return res.data;\n    })\n    .catch((err) => {\n            return err\n     })\n    \n}\n\nexport const getProductsInCart = async productList => {\n    let product;\n    let fetchedProducts = [];\n    for (product in productList) {\n        let fetchedProduct = await getSingleProduct(productList[product]);\n        fetchedProducts.push(fetchedProduct);\n\n    }\n    console.log(fetchedProducts);\n    return fetchedProducts;\n\n\n    /*\n    return axios.get(base + 'products/cart', {\n        params: { \n        products: productList \n    }\n    })\n    .then(res => {\n        console.log('cart response', res.data);\n        return res.data;\n    })\n    .catch((err) => {\n        return err\n    });*/\n\n};\n\n// Payment \nexport const getPublicStripeKey = () => {\n    return axios.get(base + 'payment/public-key')\n    .then(res => {return res})\n    .catch(err => {return err})\n};\n\nexport const createPaymentIntent = products => {\n    return axios.post(base + 'payment/create-payment-intent', {\n        products: products\n    })\n    .then(res => {\n        console.log('payment intent', res);\n        return res.data.client_secret\n    })\n    .catch((err) => {\n        return err\n    });\n\n};\n    \n\n    "]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mica/Projects/HYFIX/Website/frontend/src/components/admin/add.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nexport default class Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      description: '',\n      price: 0,\n      img: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleFileChange(e) {\n    const name = e.target.name;\n    const uploadedFile = e.target.files[0];\n    this.setState({\n      [name]: uploadedFile\n    });\n    console.log('State Data', this.state);\n  }\n\n  handleChange(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log('Client sent request');\n    console.log(this.state);\n    const formData = new FormData();\n    formData.append('name', this.state.name);\n    formData.append('description', this.state.description);\n    formData.append('price', this.state.price);\n    formData.append('img', this.state.img);\n    console.log(formData);\n    /*\n    axios.post('http://localhost:5000/products/add', this.state, {\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'multipart/form-data',\n          },\n        }).then(res => {\n            console.log(res);\n        }).catch((error) => {\n            console.log(error);\n        });*/\n\n    axios.post('http://localhost:5000/products/add', this.state).then(res => {\n      console.log(res);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"form-page\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        encType: \"multipart/form-data\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            type: \"text\",\n            value: this.state.name,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Description\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"description\",\n            type: \"text\",\n            value: this.state.description,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Price\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"price\",\n            type: \"text\",\n            value: this.state.price,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Upload Image\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"img\",\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: this.handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"submit-button\",\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n/*\nor skip the whole state thing and set form data directly,\njesus christ do I know?\n*/","map":{"version":3,"sources":["/Users/mica/Projects/HYFIX/Website/frontend/src/components/admin/add.js"],"names":["axios","React","Component","Edit","constructor","props","state","name","description","price","img","handleChange","bind","handleFileChange","handleSubmit","e","target","uploadedFile","files","setState","console","log","value","preventDefault","formData","FormData","append","post","then","res","catch","error","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\n\nexport default class Edit extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: '',\n            description: '',\n            price: 0,\n            img: {}\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleFileChange = this.handleFileChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleFileChange(e) {\n        const name = e.target.name;\n        const uploadedFile = e.target.files[0];\n        this.setState({\n            [name]: uploadedFile\n        });\n\n        console.log('State Data', this.state);\n\n    }\n\n    handleChange(e) {   \n        const name = e.target.name; \n        const value = e.target.value;\n        this.setState({\n          [name]: value\n        });  \n        \n      }\n\n    \n    handleSubmit(e) {\n        e.preventDefault();\n        console.log('Client sent request');\n        console.log(this.state);\n\n\n        const formData = new FormData();\n        formData.append('name', this.state.name);\n        formData.append('description', this.state.description);\n        formData.append('price', this.state.price);\n        formData.append('img', this.state.img);\n        console.log(formData);\n\n        /*\n        axios.post('http://localhost:5000/products/add', this.state, {\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'multipart/form-data',\n              },\n            }).then(res => {\n                console.log(res);\n            }).catch((error) => {\n                console.log(error);\n            });*/\n        \n       \n        axios.post('http://localhost:5000/products/add', this.state)\n        .then(res => {\n            console.log(res);\n        }).catch((error) => {\n            console.log(error);\n        }); \n    }\n    \n    render() {\n        return (\n            <main className='form-page'>\n\n            <form className='form' encType='multipart/form-data' onSubmit={this.handleSubmit}>\n                <label>\n                    Name\n                    <input name='name' type='text' value={this.state.name} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Description\n                    <input name='description' type='text' value={this.state.description} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Price\n                    <input name='price' type='text' value={this.state.price} onChange={this.handleChange} required />\n                </label>\n                <label>\n                    Upload Image\n                    <input name='img' type='file' accept='image/*' onChange={this.handleFileChange}/>\n                </label>\n        \n                <input className='submit-button' type='submit' value='Submit' />\n            </form>\n\n            </main>\n        );\n    }\n}\n\n/*\nor skip the whole state thing and set form data directly,\njesus christ do I know?\n*/"]},"metadata":{},"sourceType":"module"}
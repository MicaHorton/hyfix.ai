{"ast":null,"code":"import axios from 'axios';\nconst base = 'http://localhost:5000/'; // const base = 'https://api.hyfix.ai/';\n// Products\n\nexport const getAllProducts = async () => {\n  return axios.get(base + 'products/').then(res => {\n    console.log(res.data);\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getProductsByCategory = category => {\n  console.log('hello');\n  return axios.get(base + 'products/category/' + category).then(res => {\n    console.log('category res', res);\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getSingleProduct = productId => {\n  return axios.get(base + 'products/' + productId).then(res => {\n    return res.data;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const getProductsInCart = async productList => {\n  let product;\n  let fetchedProducts = [];\n\n  for (product in productList) {\n    let fetchedProduct = await getSingleProduct(productList[product]);\n    fetchedProducts.push(fetchedProduct);\n  }\n\n  console.log(fetchedProducts);\n  return fetchedProducts;\n  /*\n  return axios.get(base + 'products/cart', {\n      params: {\n      products: productList\n  }\n  })\n  .then(res => {\n      console.log('cart response', res.data);\n      return res.data;\n  })\n  .catch((err) => {\n      return err\n  });*/\n}; // Payment\n\nexport const getPublicStripeKey = () => {\n  return axios.get(base + 'payment/public-key').then(res => {\n    return res;\n  }).catch(err => {\n    return err;\n  });\n};\nexport const createPaymentIntent = products => {\n  return axios.post(base + 'payment/create-payment-intent', {\n    products: products\n  }).then(res => {\n    console.log('payment intent', res);\n    return res.data.client_secret;\n  }).catch(err => {\n    return err;\n  });\n};","map":{"version":3,"sources":["/Users/mica/Projects/Websites/hyfix/frontend/src/api.js"],"names":["axios","base","getAllProducts","get","then","res","console","log","data","catch","err","getProductsByCategory","category","getSingleProduct","productId","getProductsInCart","productList","product","fetchedProducts","fetchedProduct","push","getPublicStripeKey","createPaymentIntent","products","post","client_secret"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,IAAI,GAAG,wBAAb,C,CACA;AAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACtC,SAAOF,KAAK,CACPG,GADE,CACEF,IAAI,GAAG,WADT,EAEFG,IAFE,CAEIC,GAAD,IAAS;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,WAAOH,GAAG,CAACG,IAAX;AACH,GALE,EAMFC,KANE,CAMKC,GAAD,IAAS;AACZ,WAAOA,GAAP;AACH,GARE,CAAP;AASH,CAVM;AAYP,OAAO,MAAMC,qBAAqB,GAAIC,QAAD,IAAc;AAC/CN,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAOP,KAAK,CACPG,GADE,CACEF,IAAI,GAAG,oBAAP,GAA8BW,QADhC,EAEFR,IAFE,CAEIC,GAAD,IAAS;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B;AACA,WAAOA,GAAG,CAACG,IAAX;AACH,GALE,EAMFC,KANE,CAMKC,GAAD,IAAS;AACZ,WAAOA,GAAP;AACH,GARE,CAAP;AASH,CAXM;AAaP,OAAO,MAAMG,gBAAgB,GAAIC,SAAD,IAAe;AAC3C,SAAOd,KAAK,CACPG,GADE,CACEF,IAAI,GAAG,WAAP,GAAqBa,SADvB,EAEFV,IAFE,CAEIC,GAAD,IAAS;AACX,WAAOA,GAAG,CAACG,IAAX;AACH,GAJE,EAKFC,KALE,CAKKC,GAAD,IAAS;AACZ,WAAOA,GAAP;AACH,GAPE,CAAP;AAQH,CATM;AAWP,OAAO,MAAMK,iBAAiB,GAAG,MAAOC,WAAP,IAAuB;AACpD,MAAIC,OAAJ;AACA,MAAIC,eAAe,GAAG,EAAtB;;AACA,OAAKD,OAAL,IAAgBD,WAAhB,EAA6B;AACzB,QAAIG,cAAc,GAAG,MAAMN,gBAAgB,CAACG,WAAW,CAACC,OAAD,CAAZ,CAA3C;AACAC,IAAAA,eAAe,CAACE,IAAhB,CAAqBD,cAArB;AACH;;AACDb,EAAAA,OAAO,CAACC,GAAR,CAAYW,eAAZ;AACA,SAAOA,eAAP;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAvBM,C,CAyBP;;AACA,OAAO,MAAMG,kBAAkB,GAAG,MAAM;AACpC,SAAOrB,KAAK,CACPG,GADE,CACEF,IAAI,GAAG,oBADT,EAEFG,IAFE,CAEIC,GAAD,IAAS;AACX,WAAOA,GAAP;AACH,GAJE,EAKFI,KALE,CAKKC,GAAD,IAAS;AACZ,WAAOA,GAAP;AACH,GAPE,CAAP;AAQH,CATM;AAWP,OAAO,MAAMY,mBAAmB,GAAIC,QAAD,IAAc;AAC7C,SAAOvB,KAAK,CACPwB,IADE,CACGvB,IAAI,GAAG,+BADV,EAC2C;AAC1CsB,IAAAA,QAAQ,EAAEA;AADgC,GAD3C,EAIFnB,IAJE,CAIIC,GAAD,IAAS;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,GAA9B;AACA,WAAOA,GAAG,CAACG,IAAJ,CAASiB,aAAhB;AACH,GAPE,EAQFhB,KARE,CAQKC,GAAD,IAAS;AACZ,WAAOA,GAAP;AACH,GAVE,CAAP;AAWH,CAZM","sourcesContent":["import axios from 'axios'\nconst base = 'http://localhost:5000/'\n// const base = 'https://api.hyfix.ai/';\n\n// Products\nexport const getAllProducts = async () => {\n    return axios\n        .get(base + 'products/')\n        .then((res) => {\n            console.log(res.data)\n            return res.data\n        })\n        .catch((err) => {\n            return err\n        })\n}\n\nexport const getProductsByCategory = (category) => {\n    console.log('hello')\n    return axios\n        .get(base + 'products/category/' + category)\n        .then((res) => {\n            console.log('category res', res)\n            return res.data\n        })\n        .catch((err) => {\n            return err\n        })\n}\n\nexport const getSingleProduct = (productId) => {\n    return axios\n        .get(base + 'products/' + productId)\n        .then((res) => {\n            return res.data\n        })\n        .catch((err) => {\n            return err\n        })\n}\n\nexport const getProductsInCart = async (productList) => {\n    let product\n    let fetchedProducts = []\n    for (product in productList) {\n        let fetchedProduct = await getSingleProduct(productList[product])\n        fetchedProducts.push(fetchedProduct)\n    }\n    console.log(fetchedProducts)\n    return fetchedProducts\n\n    /*\n    return axios.get(base + 'products/cart', {\n        params: {\n        products: productList\n    }\n    })\n    .then(res => {\n        console.log('cart response', res.data);\n        return res.data;\n    })\n    .catch((err) => {\n        return err\n    });*/\n}\n\n// Payment\nexport const getPublicStripeKey = () => {\n    return axios\n        .get(base + 'payment/public-key')\n        .then((res) => {\n            return res\n        })\n        .catch((err) => {\n            return err\n        })\n}\n\nexport const createPaymentIntent = (products) => {\n    return axios\n        .post(base + 'payment/create-payment-intent', {\n            products: products\n        })\n        .then((res) => {\n            console.log('payment intent', res)\n            return res.data.client_secret\n        })\n        .catch((err) => {\n            return err\n        })\n}\n"]},"metadata":{},"sourceType":"module"}